<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Tue Jan 06 21:09:20 AEDT 2026 -->
<title>XmpHandler</title>
<meta name="date" content="2026-01-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XmpHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XmpHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../xmp/XmpDirectory.XmpRecord.html" title="class in xmp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../xmp/XmpHandlerOld.html" title="class in xmp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?xmp/XmpHandler.html" target="_top">Frames</a></li>
<li><a href="XmpHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">xmp</div>
<h2 title="Class XmpHandler" class="title">Class XmpHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>xmp.XmpHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">XmpHandler</span>
extends java.lang.Object
implements <a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></pre>
<div class="block">Handles XMP metadata extraction from the raw XMP payload (an XML packet). This payload can be
 sourced from various file types, including JPEG (APP1 segment), TIFF, WebP, PNG, and DNG.

 <pre>
  -- For developmental testing --

 <u>Some examples of exiftool usages</u>

 exiftool -XMP:All -a -u -g1 pool19.JPG
 ---- XMP-x ----
 XMP Toolkit : Image::ExifTool 13.29
 ---- XMP-rdf ----
 About : uuid:faf5bdd5-ba3d-11da-ad31-d33d75182f1b
 ---- XMP-dc ----
 Creator : Gemma Emily Maggs
 Description : Trevor
 Title : Trevor
 ---- XMP-exif ----
 Date/Time Original : 2011:10:07 22:59:20
 ---- XMP-xmp ----
 Create Date : 2011:10:07 22:59:20
 Modify Date : 2011:10:07 22:59:20

 exiftool -XMP:Description="Construction Progress" XMPimage.png
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>9 November 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.8</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#REGEX_DIGIT">REGEX_DIGIT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#xmpDir">xmpDir</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#XmpHandler-byte:A-">XmpHandler</a></span>(byte[]&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Constructs a new XmpHandler from a list of XMP segments.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#addXmpDirectory-byte:A-">addXmpDirectory</a></span>(byte[]&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Parses XMP metadata from a byte array.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#getXmpDirectory--">getXmpDirectory</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the <code>XmpDirectory</code> directory.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#parseMetadata--">parseMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">If the parsing of the XMP segment was successful in constructor, it will return true.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../xmp/XmpHandler.html#readPropertyData-byte:A-">readPropertyData</a></span>(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Parses the raw XMP byte array and populates the property map.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="REGEX_DIGIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REGEX_DIGIT</h4>
<pre>private static final&nbsp;java.util.regex.Pattern REGEX_DIGIT</pre>
</li>
</ul>
<a name="xmpDir">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>xmpDir</h4>
<pre>private final&nbsp;<a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a> xmpDir</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XmpHandler-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XmpHandler</h4>
<pre>public&nbsp;XmpHandler(byte[]&nbsp;input)
           throws com.adobe.internal.xmp.XMPException</pre>
<div class="block">Constructs a new XmpHandler from a list of XMP segments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - raw XMP data payload, typically a single XML packet, combined from multiple segments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if the specified byte array is null or empty</dd>
<dd><code>com.adobe.internal.xmp.XMPException</code> - if the XMP data format is invalid and cannot be parsed by the SDK</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addXmpDirectory-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addXmpDirectory</h4>
<pre>public static&nbsp;<a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a>&nbsp;addXmpDirectory(byte[]&nbsp;input)
                                    throws com.adobe.internal.xmp.XMPException</pre>
<div class="block">Parses XMP metadata from a byte array.

 <p>
 For efficiency, use this static utility method where XMP-formatted data is already available
 in memory. It directly processes the byte array to extract and structure the metadata
 directory without having to read a file from disk again.
 </p>

 <p>
 Note: This method assumes the specified byte array is a valid XMP payload. It is the
 responsibility of the programmers to ensure the correct format is available. No external
 validation is performed.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - byte array containing XMP-formatted data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parsed <a href="../xmp/XmpDirectory.html" title="class in xmp"><code>XmpDirectory</code></a> object. Returns null if metadata is successfully
         parsed but contains no XMP properties</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.adobe.internal.xmp.XMPException</code> - if the data cannot be parsed</dd>
</dl>
</li>
</ul>
<a name="getXmpDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getXmpDirectory</h4>
<pre>public&nbsp;<a href="../xmp/XmpDirectory.html" title="class in xmp">XmpDirectory</a>&nbsp;getXmpDirectory()</pre>
<div class="block">Returns the <code>XmpDirectory</code> directory.

 <p>
 If no XMP properties were found, it just returns an empty directory, guaranteeing no null is
 returned.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of <a href="../xmp/XmpDirectory.html" title="class in xmp"><code>XmpDirectory</code></a> directory</dd>
</dl>
</li>
</ul>
<a name="parseMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseMetadata</h4>
<pre>public&nbsp;boolean&nbsp;parseMetadata()</pre>
<div class="block">If the parsing of the XMP segment was successful in constructor, it will return true.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/ImageHandler.html#parseMetadata--">parseMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if one or more XMP properties were successfully extracted, otherwise false</dd>
</dl>
</li>
</ul>
<a name="readPropertyData-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readPropertyData</h4>
<pre>private&nbsp;void&nbsp;readPropertyData(byte[]&nbsp;data)
                       throws com.adobe.internal.xmp.XMPException</pre>
<div class="block">Parses the raw XMP byte array and populates the property map. Employs the Adobe XMP SDK
 (XMPCore library) for efficient iteration and property extraction.

 The logic handles structural nodes by tracking the last known namespace URI.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - an array of bytes containing raw XMP data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.adobe.internal.xmp.XMPException</code> - if parsing fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XmpHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../xmp/XmpDirectory.XmpRecord.html" title="class in xmp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../xmp/XmpHandlerOld.html" title="class in xmp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?xmp/XmpHandler.html" target="_top">Frames</a></li>
<li><a href="XmpHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
