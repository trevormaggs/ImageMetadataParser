<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Wed Feb 11 22:47:41 AEDT 2026 -->
<title>ChunkHandler</title>
<meta name="date" content="2026-02-11">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ChunkHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChunkHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../png/ChunkType.html" title="enum in png"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?png/ChunkHandler.html" target="_top">Frames</a></li>
<li><a href="ChunkHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">png</div>
<h2 title="Class ChunkHandler" class="title">Class ChunkHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>png.ChunkHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ChunkHandler</span>
extends java.lang.Object
implements <a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</pre>
<div class="block">A specialised container used for handling <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> elements extracted from a PNG stream.

 <p>
 This class provides a structured repository for chunks, facilitating efficient retrieval by
 <a href="../png/ChunkType.html" title="enum in png"><code>ChunkType</code></a> or <a href="../png/ChunkType.Category.html" title="enum in png"><code>ChunkType.Category</code></a>. It serves as the primary data store during the parsing
 lifecycle, managing subclass instantiation for extended chunks (i.e. <code>iTXt</code>, <code>eXIf</code>,
 <code>tIME</code>, etc) and performing integrity validation via CRC checks.
 </p>

 <p>
 This handler can manage any PNG chunk type defined in the PNG specification, though it is most
 commonly used for metadata extraction (XMP, EXIF, Textual). It supports filtered extraction via
 the <code>requiredChunks</code> set to optimise memory.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4 February 2026</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.2</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#chunks">chunks</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#imageFile">imageFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.nio.ByteOrder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#PNG_BYTE_ORDER">PNG_BYTE_ORDER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#PNG_SIGNATURE_BYTES">PNG_SIGNATURE_BYTES</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#reader">reader</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#requiredChunks">requiredChunks</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#strictMode">strictMode</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#ChunkHandler-java.nio.file.Path-common.ByteStreamReader-java.util.EnumSet-boolean-">ChunkHandler</a></span>(java.nio.file.Path&nbsp;fpath,
            <a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
            java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt;&nbsp;requiredChunks,
            boolean&nbsp;strict)</code></th>
<td class="colLast">
<div class="block">Constructs a handler to parse selected chunks from a PNG image file.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#ChunkHandler-java.nio.file.Path-java.util.EnumSet-">ChunkHandler</a></span>(java.nio.file.Path&nbsp;fpath,
            java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt;&nbsp;requiredChunks)</code></th>
<td class="colLast">
<div class="block">Constructs a <code>ChunkHandler</code> using a default <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a> in lenient
 mode.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private <a href="../png/PngChunk.html" title="class in png">PngChunk</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#addChunk-png.ChunkType-long-byte:A-int-byte:A-long-">addChunk</a></span>(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;chunkType,
        long&nbsp;length,
        byte[]&nbsp;typeBytes,
        int&nbsp;crc32,
        byte[]&nbsp;data,
        long&nbsp;offsetStart)</code></th>
<td class="colLast">
<div class="block">Adds a parsed chunk to the internal chunk collection.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#close--">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases the file handle and closes the underlying <code>ByteStreamReader</code> resource.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#existsChunkCategory-png.ChunkType.Category-">existsChunkCategory</a></span>(<a href="../png/ChunkType.Category.html" title="enum in png">ChunkType.Category</a>&nbsp;cat)</code></th>
<td class="colLast">
<div class="block">Checks if a chunk is classified in the specified category, for example: Textual, Header or
 Time etc.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#existsChunkType-png.ChunkType-">existsChunkType</a></span>(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Checks if a chunk with the specified type has already been set.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#getChunks--">getChunks</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves a list of chunks that have been extracted.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#getChunks-png.ChunkType.Category-">getChunks</a></span>(<a href="../png/ChunkType.Category.html" title="enum in png">ChunkType.Category</a>&nbsp;cat)</code></th>
<td class="colLast">
<div class="block">Retrieves a list of specific chunks based on the specified category.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#getChunks-png.ChunkType-">getChunks</a></span>(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Retrieves a list of specific chunks based on the specified type, for example: <code>tEXt</code>,
 <code>iTXt</code>, or <code>eXIf</code> etc.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#getFirstChunk-png.ChunkType-">getFirstChunk</a></span>(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Retrieves the first occurrence of the chunk matching the specified type.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#getLastChunk-png.ChunkType-">getLastChunk</a></span>(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Retrieves the last instance of the chunk matching the specified type.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#parseChunks--">parseChunks</a></span>()</code></th>
<td class="colLast">
<div class="block">Processes the PNG data stream sequentially.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#parseMetadata--">parseMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Validates the PNG file signature and initiates chunk parsing.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/ChunkHandler.html#toString--">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a textual representation of all parsed PNG chunks in this file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="PNG_SIGNATURE_BYTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PNG_SIGNATURE_BYTES</h4>
<pre>private static final&nbsp;byte[] PNG_SIGNATURE_BYTES</pre>
</li>
</ul>
<a name="PNG_BYTE_ORDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PNG_BYTE_ORDER</h4>
<pre>public static final&nbsp;java.nio.ByteOrder PNG_BYTE_ORDER</pre>
</li>
</ul>
<a name="imageFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>imageFile</h4>
<pre>private final&nbsp;java.nio.file.Path imageFile</pre>
</li>
</ul>
<a name="strictMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strictMode</h4>
<pre>private final&nbsp;boolean strictMode</pre>
</li>
</ul>
<a name="reader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reader</h4>
<pre>private final&nbsp;<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a> reader</pre>
</li>
</ul>
<a name="requiredChunks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiredChunks</h4>
<pre>private final&nbsp;java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt; requiredChunks</pre>
</li>
</ul>
<a name="chunks">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>chunks</h4>
<pre>private final&nbsp;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt; chunks</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ChunkHandler-java.nio.file.Path-common.ByteStreamReader-java.util.EnumSet-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ChunkHandler</h4>
<pre>public&nbsp;ChunkHandler(java.nio.file.Path&nbsp;fpath,
                    <a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
                    java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt;&nbsp;requiredChunks,
                    boolean&nbsp;strict)</pre>
<div class="block">Constructs a handler to parse selected chunks from a PNG image file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the path to the PNG file for logging purposes</dd>
<dd><code>reader</code> - byte reader for raw PNG stream</dd>
<dd><code>requiredChunks</code> - an optional set of chunk types to be extracted (null means all chunks are selected)</dd>
<dd><code>strict</code> - true to make it strict, otherwise false for a lenient reading process</dd>
</dl>
</li>
</ul>
<a name="ChunkHandler-java.nio.file.Path-java.util.EnumSet-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ChunkHandler</h4>
<pre>public&nbsp;ChunkHandler(java.nio.file.Path&nbsp;fpath,
                    java.util.EnumSet&lt;<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&gt;&nbsp;requiredChunks)
             throws java.io.IOException</pre>
<div class="block">Constructs a <code>ChunkHandler</code> using a default <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a> in lenient
 mode.
 
 <p>
 <strong>Resource Management:</strong> This constructor opens a file handle internally. The
 caller <b>must</b> use this handler within a try-with-resources block or call
 <a href="../png/ChunkHandler.html#close--"><code>close()</code></a> to ensure the underlying file lock is released.
 </p>
 
 <p>
 <strong>Lenient Mode:</strong> In this mode, structural anomalies or CRC mismatches will be
 logged as warnings but will not interrupt the parsing process.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the <code>Path</code> to the PNG image file</dd>
<dd><code>requiredChunks</code> - the set of <a href="../png/ChunkType.html" title="enum in png"><code>ChunkType</code></a>s to load into memory; if <code>null</code>, all encountered
        chunks are extracted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or the <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a> fails to
         initialise</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Releases the file handle and closes the underlying <code>ByteStreamReader</code> resource.

 <p>
 This is called automatically when using a <code>try-with-resources</code> block. Closing this
 handler ensures that any system locks on the file are released and memory resources are
 freed.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while closing the reader</dd>
</dl>
</li>
</ul>
<a name="parseMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseMetadata</h4>
<pre>public&nbsp;boolean&nbsp;parseMetadata()
                      throws java.io.IOException</pre>
<div class="block">Validates the PNG file signature and initiates chunk parsing.

 <p>
 The method first verifies the 8-byte magic signature: <code>0x89 50 4E 47 0D 0A 1A 0A</code>. If
 valid, it begins the parsing.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/ImageHandler.html#parseMetadata--">parseMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if chunks were successfully parsed into the internal collection</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the signature is missing, invalid, or an I/O error occurs</dd>
<dd><code>java.lang.IllegalStateException</code> - if the internal structure is malformed, for example: IHDR is not first</dd>
</dl>
</li>
</ul>
<a name="existsChunkType-png.ChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsChunkType</h4>
<pre>public&nbsp;boolean&nbsp;existsChunkType(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</pre>
<div class="block">Checks if a chunk with the specified type has already been set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of the chunk</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the chunk is present</dd>
</dl>
</li>
</ul>
<a name="existsChunkCategory-png.ChunkType.Category-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsChunkCategory</h4>
<pre>public&nbsp;boolean&nbsp;existsChunkCategory(<a href="../png/ChunkType.Category.html" title="enum in png">ChunkType.Category</a>&nbsp;cat)</pre>
<div class="block">Checks if a chunk is classified in the specified category, for example: Textual, Header or
 Time etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cat</code> - the type of ChunkType.Category enumeration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the chunk is present</dd>
</dl>
</li>
</ul>
<a name="getChunks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunks</h4>
<pre>public&nbsp;java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;&nbsp;getChunks()</pre>
<div class="block">Retrieves a list of chunks that have been extracted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing an unmodified list of <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> objects if
         found, or <code>Optional.empty()</code> if no specific chunks are present</dd>
</dl>
</li>
</ul>
<a name="getChunks-png.ChunkType.Category-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunks</h4>
<pre>public&nbsp;java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;&nbsp;getChunks(<a href="../png/ChunkType.Category.html" title="enum in png">ChunkType.Category</a>&nbsp;cat)</pre>
<div class="block">Retrieves a list of specific chunks based on the specified category.

 <p>
 For example, for textual chunks, a list of <code>tEXt</code>, <code>iTXt</code>, and <code>zTXt</code>
 chunks, will be collected and returned.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cat</code> - the type of ChunkType.Category enumeration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing a list of <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> objects if found, or
         <code>Optional.empty()</code> if no specific chunks are present</dd>
</dl>
</li>
</ul>
<a name="getChunks-png.ChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunks</h4>
<pre>public&nbsp;java.util.Optional&lt;java.util.List&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&gt;&nbsp;getChunks(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</pre>
<div class="block">Retrieves a list of specific chunks based on the specified type, for example: <code>tEXt</code>,
 <code>iTXt</code>, or <code>eXIf</code> etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of the chunk</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing a list of <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> objects if found, or
         <code>Optional.empty()</code> if the specified chunk type cannot be found</dd>
</dl>
</li>
</ul>
<a name="getFirstChunk-png.ChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstChunk</h4>
<pre>public&nbsp;java.util.Optional&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&nbsp;getFirstChunk(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</pre>
<div class="block">Retrieves the first occurrence of the chunk matching the specified type. Any subsequent
 chunks will be skipped.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of the chunk</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing the discovered <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> object if found, or
         <code>Optional.empty()</code> if the specified chunk type cannot be found</dd>
</dl>
</li>
</ul>
<a name="getLastChunk-png.ChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastChunk</h4>
<pre>public&nbsp;java.util.Optional&lt;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&gt;&nbsp;getLastChunk(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;type)</pre>
<div class="block">Retrieves the last instance of the chunk matching the specified type. Any previous chunks
 will be overwritten.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of the chunk</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing the last <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> object if found, or
         <code>Optional.empty()</code> if the specified chunk type cannot be found</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns a textual representation of all parsed PNG chunks in this file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>formatted string of all parsed chunk entries</dd>
</dl>
</li>
</ul>
<a name="parseChunks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseChunks</h4>
<pre>private&nbsp;void&nbsp;parseChunks()
                  throws java.io.IOException</pre>
<div class="block">Processes the PNG data stream sequentially.
 
 <p>
 <strong>Strict Requirements:</strong>
 </p>
 
 <ul>
 <li>The first chunk must be <b>IHDR</b> (Image Header).</li>
 <li>The last chunk must be <b>IEND</b> (Image Trailer).</li>
 <li>Duplicate chunks are rejected if <a href="../png/ChunkType.html#isMultipleAllowed--"><code>ChunkType.isMultipleAllowed()</code></a> is false.</li>
 </ul></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the PNG structure violates the IHDR/IEND sequence or if a CRC mismatch is detected
         in <code>strictMode</code></dd>
<dd><code>java.io.IOException</code> - if there is an I/O stream error</dd>
</dl>
</li>
</ul>
<a name="addChunk-png.ChunkType-long-byte:A-int-byte:A-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addChunk</h4>
<pre>private&nbsp;<a href="../png/PngChunk.html" title="class in png">PngChunk</a>&nbsp;addChunk(<a href="../png/ChunkType.html" title="enum in png">ChunkType</a>&nbsp;chunkType,
                          long&nbsp;length,
                          byte[]&nbsp;typeBytes,
                          int&nbsp;crc32,
                          byte[]&nbsp;data,
                          long&nbsp;offsetStart)</pre>
<div class="block">Adds a parsed chunk to the internal chunk collection. Special types such as <code>iTXt</code>,
 <code>zTXt</code>, and <code>tEXt</code> are instantiated into specific subclasses.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>chunkType</code> - the identified <a href="../png/ChunkType.html" title="enum in png"><code>ChunkType</code></a> of the PNG chunk</dd>
<dd><code>length</code> - the length of the data portion of the chunk (excluding type, length, and CRC fields)</dd>
<dd><code>typeBytes</code> - the raw 4-byte chunk type identifier used for CRC calculation</dd>
<dd><code>crc32</code> - the CRC value read from the file for integrity verification</dd>
<dd><code>data</code> - the raw byte array of the chunk's data payload</dd>
<dd><code>offsetStart</code> - the absolute physical position in the file where the chunk begins</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a populated <a href="../png/PngChunk.html" title="class in png"><code>PngChunk</code></a> (or specific subclass) instance</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChunkHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../png/ChunkType.html" title="enum in png"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?png/ChunkHandler.html" target="_top">Frames</a></li>
<li><a href="ChunkHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
