<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Tue Jan 06 21:05:32 AEDT 2026 -->
<title>PngParser</title>
<meta name="date" content="2026-01-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PngParser";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PngParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../png/PngMetadataStrategy.html" title="interface in png"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../png/TagPngChunk.html" title="enum in png"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?png/PngParser.html" target="_top">Frames</a></li>
<li><a href="PngParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">png</div>
<h2 title="Class PngParser" class="title">Class PngParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../common/AbstractImageParser.html" title="class in common">common.AbstractImageParser</a></li>
<li>
<ul class="inheritance">
<li>png.PngParser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PngParser</span>
extends <a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></pre>
<div class="block">This program aims to read PNG image files and retrieve data structured in a series of chunks. For
 accessing metadata, only any of the textual chunks or the EXIF chunk, if present, will be
 processed.

 Normally, most PNG files do not contain the EXIF structure, however, it will attempt to search
 for these 4 potential chunks: ChunkType.eXIf, ChunkType.tEXt, ChunkType.iTXt or ChunkType.zTXt.

 <p>
 <b>PNG Data Stream</b>
 </p>

 <p>
 The PNG data stream begins with a PNG SIGNATURE (0x89 0x50 0x4E 0x47 0x0D 0x0A 0x1A 0x0A)
 followed by a series of chunks. Each chunk consists of:
 </p>

 <ul>
 <li>4 bytes for data field length (unsigned, usually &lt;= 31 bytes)</li>
 <li>4 bytes for chunk type (only [65-90] and [97-122]) ASCII codes</li>
 <li>Variable number of bytes for data field</li>
 <li>4 bytes for CRC computed from chunk type and data only</li>
 </ul>

 <p>
 There are two categories of chunks: Critical and Ancillary.
 </p>

 <p>
 <b>Critical Chunk Types</b>
 </p>

 <ul>
 <li>IHDR - image header, always the first chunk in the data stream</li>
 <li>PLTE - palette table, relevant for indexed PNG images</li>
 <li>IDAT - image data chunk, multiple occurrences likely</li>
 <li>IEND - image trailer, always the last chunk in the data stream</li>
 </ul>

 <p>
 <b>Ancillary Chunk Types</b>
 </p>

 <ul>
 <li>Transparency info: tRNS</li>
 <li>Colour space info: cHRM, gAMA, iCCP, sBIT, sRGB, cICP, mDCV</li>
 <li>Textual info: iTXt, tEXt, zTXt</li>
 <li>Miscellaneous info: bKGD, hIST, pHYs, sPLT, eXIf</li>
 <li>Time info: tIME</li>
 <li>Animation information: acTL, fcTL, fdAT</li>
 </ul>

 -- For developmental testing --

 &lt;u&gt;Some examples of exiftool usages&lt;/u&gt;

 exiftool -time:all -a -G0:1 -s testPNGimage.png
 exiftool.exe -overwrite_original -alldates="2012:10:07 11:15:45" testPNGimage.png
 exiftool.exe "-FileModifyDate&lt;PNG:CreationTime" testPNGimage.png

 exiftool "-PNG:CreationTime=2015:07:14 01:15:27" testPNGimage.png
 exiftool -filemodifydate="2024:08:10 00:00:00" -createdate="2024:08:10 00:00:00"
 "-PNG:CreationTime&lt;FileModifyDate" testPNGimage.png
 </div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>13 August 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://www.w3.org/TR/png">See this link for more technical PNG background
      information.</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../png/PngMetadata.html" title="class in png">PngMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#metadata">metadata</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.nio.ByteOrder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#PNG_BYTE_ORDER">PNG_BYTE_ORDER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#PngParser-java.nio.file.Path-">PngParser</a></span>(java.nio.file.Path&nbsp;fpath)</code></th>
<td class="colLast">
<div class="block">This constructor creates an instance for processing the specified image file.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#PngParser-java.lang.String-">PngParser</a></span>(java.lang.String&nbsp;file)</code></th>
<td class="colLast">
<div class="block">This constructor creates an instance for processing the specified image file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#formatDiagnosticString--">formatDiagnosticString</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates a human-readable diagnostic string for PNG metadata.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#getImageFormat--">getImageFormat</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the detected <code>PNG</code> format.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;<a href="../png/PngDirectory.html" title="class in png">PngDirectory</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#getMetadata--">getMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves the extracted metadata from the PNG image file, or an empty fallback if
 unavailable.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../png/PngParser.html#readMetadata--">readMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Reads the PNG image file to extract all supported raw metadata segments (specifically EXIF
 and XMP, if present), and uses the extracted data to initialise the necessary metadata
 objects for later data retrieval.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.common.AbstractImageParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;common.<a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></h3>
<code><a href="../common/AbstractImageParser.html#getImageFile--">getImageFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="PNG_BYTE_ORDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PNG_BYTE_ORDER</h4>
<pre>private static final&nbsp;java.nio.ByteOrder PNG_BYTE_ORDER</pre>
</li>
</ul>
<a name="metadata">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>metadata</h4>
<pre>private&nbsp;<a href="../png/PngMetadata.html" title="class in png">PngMetadata</a> metadata</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PngParser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PngParser</h4>
<pre>public&nbsp;PngParser(java.lang.String&nbsp;file)
          throws java.io.IOException</pre>
<div class="block">This constructor creates an instance for processing the specified image file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - specifies the PNG image file to be read</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O problem has occurred</dd>
</dl>
</li>
</ul>
<a name="PngParser-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PngParser</h4>
<pre>public&nbsp;PngParser(java.nio.file.Path&nbsp;fpath)
          throws java.io.IOException</pre>
<div class="block">This constructor creates an instance for processing the specified image file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - specifies the PNG file path, encapsulated in a Path object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file is not a regular type or does not exist</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getImageFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageFormat</h4>
<pre>public&nbsp;<a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a>&nbsp;getImageFormat()</pre>
<div class="block">Returns the detected <code>PNG</code> format.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getImageFormat--">getImageFormat</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../common/DigitalSignature.html" title="enum in common"><code>DigitalSignature</code></a> enum constant representing this image format</dd>
</dl>
</li>
</ul>
<a name="readMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadata</h4>
<pre>public&nbsp;boolean&nbsp;readMetadata()
                     throws java.io.IOException</pre>
<div class="block">Reads the PNG image file to extract all supported raw metadata segments (specifically EXIF
 and XMP, if present), and uses the extracted data to initialise the necessary metadata
 objects for later data retrieval.

 It is important to note that PNG files usually do not have an EXIF segment block structured
 inside.

 However, it will attempt to find information from 4 possible chunks:
 <code>ChunkType.eXIf, ChunkType.tEXt, ChunkType.iTXt or ChunkType.zTXt</code>. The last 3 textual
 chunks are processed for both native text metadata (like Creation Time) and embedded XMP
 metadata.

 If any of these 3 textual chunks does contain data, it will be quite rudimentary, such as
 obtaining the Creation Time, Last Modification Date, etc.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#readMetadata--">readMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true once at least one metadata segment has been successfully parsed, otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file reading error occurs during the parsing</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://www.w3.org/TR/png/#11keywords">www.w3.org/TR/png/#11keywords - for more information.</a></dd>
</dl>
</li>
</ul>
<a name="getMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;<a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;<a href="../png/PngDirectory.html" title="class in png">PngDirectory</a>&gt;&nbsp;getMetadata()</pre>
<div class="block">Retrieves the extracted metadata from the PNG image file, or an empty fallback if
 unavailable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getMetadata--">getMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MetadataStrategy object</dd>
</dl>
</li>
</ul>
<a name="formatDiagnosticString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>formatDiagnosticString</h4>
<pre>public&nbsp;java.lang.String&nbsp;formatDiagnosticString()</pre>
<div class="block">Generates a human-readable diagnostic string for PNG metadata.

 <p>
 This includes textual chunks (tEXt, iTXt, zTXt) and optional EXIF data if the eXIf chunk is
 present and and also XMP data, which is typically embedded within an iTXt chunk.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#formatDiagnosticString--">formatDiagnosticString</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a formatted string suitable for diagnostics, logging, or inspection</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PngParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../png/PngMetadataStrategy.html" title="interface in png"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../png/TagPngChunk.html" title="enum in png"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?png/PngParser.html" target="_top">Frames</a></li>
<li><a href="PngParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
