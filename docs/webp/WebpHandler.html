<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Mon Feb 09 17:57:45 AEDT 2026 -->
<title>WebpHandler</title>
<meta name="date" content="2026-02-09">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WebpHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebpHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../webp/WebPDatePatcher.html" title="class in webp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../webp/WebpParser.html" title="class in webp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?webp/WebpHandler.html" target="_top">Frames</a></li>
<li><a href="WebpHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">webp</div>
<h2 title="Class WebpHandler" class="title">Class WebpHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>webp.WebpHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">WebpHandler</span>
extends java.lang.Object
implements <a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</pre>
<div class="block">WebP files are based on the Resource Interchange File Format (RIFF) container. This handler
 manages the sequential parsing of the top-level RIFF header, the <code>WEBP</code> sub-header, and the
 subsequent data 'Chunks' like VP8, EXIF, and XMP.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>13 August 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#CHUNK_HEADER_SIZE">CHUNK_HEADER_SIZE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#chunks">chunks</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#extendedFormat">extendedFormat</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#FIRST_CHUNK_TYPES">FIRST_CHUNK_TYPES</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.nio.file.Path</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#imageFile">imageFile</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#reader">reader</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Set&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#requiredChunks">requiredChunks</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.nio.ByteOrder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#WEBP_BYTE_ORDER">WEBP_BYTE_ORDER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#WebpHandler-common.ByteStreamReader-java.util.EnumSet-">WebpHandler</a></span>(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
           java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;&nbsp;requiredChunks)</code></th>
<td class="colLast">
<div class="block">Constructs a handler to parse selected chunks from a WebP image file.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#WebpHandler-java.nio.file.Path-java.util.EnumSet-">WebpHandler</a></span>(java.nio.file.Path&nbsp;fpath,
           java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;&nbsp;requiredChunks)</code></th>
<td class="colLast">
<div class="block">Constructs a <code>WebpHandler</code> using a default <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#addChunk-webp.WebPChunkType-int-int-byte:A-long-">addChunk</a></span>(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type,
        int&nbsp;fourCC,
        int&nbsp;length,
        byte[]&nbsp;data,
        long&nbsp;dataOffset)</code></th>
<td class="colLast">
<div class="block">Adds a parsed chunk to the internal chunk collection.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#close--">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases the file handle and closes the underlying <code>ByteStreamReader</code> resource.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#existsChunk-webp.WebPChunkType-">existsChunk</a></span>(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Checks if a chunk with the specified type has already been set.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#existsExifMetadata--">existsExifMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Identifies if the Extended File Format (VP8X) chunk indicates the presence of EXIF metadata.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#existsXmpMetadata--">existsXmpMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Identifies if the Extended File Format (VP8X) chunk indicates the presence of XMP metadata.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#getChunk-webp.WebPChunkType-">getChunk</a></span>(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Finds and returns the first occurrence of a chunk matching the specified type.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#getChunks--">getChunks</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves a list of chunks that have been extracted.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#getLastChunk-webp.WebPChunkType-">getLastChunk</a></span>(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Finds and returns the last occurrence of a chunk matching the specified type.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#getRealFileSize--">getRealFileSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the length of the physical image file.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#parseChunks-common.ByteStreamReader-long-">parseChunks</a></span>(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
           long&nbsp;riffFileSize)</code></th>
<td class="colLast">
<div class="block">Iterates through the RIFF container and parses individual chunks.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#parseMetadata--">parseMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Begins metadata processing by parsing the WebP file and extracting chunk data.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#parseVP8-byte:A-">parseVP8</a></span>(byte[]&nbsp;payload)</code></th>
<td class="colLast">
<div class="block">Parses the VP8 Lossy bitstream header to extract image dimensions.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#parseVP8L-byte:A-">parseVP8L</a></span>(byte[]&nbsp;payload)</code></th>
<td class="colLast">
<div class="block">Parses the VP8L Lossless bitstream header to extract image dimensions.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#parseVP8X-byte:A-">parseVP8X</a></span>(byte[]&nbsp;payload)</code></th>
<td class="colLast">
<div class="block">Parses the VP8X extended header to determine image features and dimensions.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#readFileHeader-common.ByteStreamReader-">readFileHeader</a></span>(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader)</code></th>
<td class="colLast">
<div class="block">Read the file header of the given WebP file.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../webp/WebpHandler.html#toString--">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a textual representation of all parsed WebP chunks in this file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="FIRST_CHUNK_TYPES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIRST_CHUNK_TYPES</h4>
<pre>private static final&nbsp;java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt; FIRST_CHUNK_TYPES</pre>
</li>
</ul>
<a name="WEBP_BYTE_ORDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WEBP_BYTE_ORDER</h4>
<pre>public static final&nbsp;java.nio.ByteOrder WEBP_BYTE_ORDER</pre>
</li>
</ul>
<a name="CHUNK_HEADER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHUNK_HEADER_SIZE</h4>
<pre>private static final&nbsp;int CHUNK_HEADER_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#webp.WebpHandler.CHUNK_HEADER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="imageFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>imageFile</h4>
<pre>private final&nbsp;java.nio.file.Path imageFile</pre>
</li>
</ul>
<a name="reader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reader</h4>
<pre>private final&nbsp;<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a> reader</pre>
</li>
</ul>
<a name="chunks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chunks</h4>
<pre>private final&nbsp;java.util.List&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt; chunks</pre>
</li>
</ul>
<a name="requiredChunks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requiredChunks</h4>
<pre>private final&nbsp;java.util.Set&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt; requiredChunks</pre>
</li>
</ul>
<a name="extendedFormat">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>extendedFormat</h4>
<pre>private&nbsp;int extendedFormat</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WebpHandler-common.ByteStreamReader-java.util.EnumSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WebpHandler</h4>
<pre>public&nbsp;WebpHandler(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
                   java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;&nbsp;requiredChunks)</pre>
<div class="block">Constructs a handler to parse selected chunks from a WebP image file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - byte reader for raw WebP stream</dd>
<dd><code>requiredChunks</code> - an optional set of chunk types to be extracted (null means all chunks are selected)</dd>
</dl>
</li>
</ul>
<a name="WebpHandler-java.nio.file.Path-java.util.EnumSet-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WebpHandler</h4>
<pre>public&nbsp;WebpHandler(java.nio.file.Path&nbsp;fpath,
                   java.util.EnumSet&lt;<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&gt;&nbsp;requiredChunks)
            throws java.io.IOException</pre>
<div class="block">Constructs a <code>WebpHandler</code> using a default <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a>.
 
 <p>
 <strong>Resource Management:</strong> This constructor opens a file handle internally. The
 caller <b>must</b> use this handler within a try-with-resources block or call
 <a href="../webp/WebpHandler.html#close--"><code>close()</code></a> to ensure the underlying file lock is released.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the <code>Path</code> to the PNG image file</dd>
<dd><code>requiredChunks</code> - the set of <a href="../webp/WebPChunkType.html" title="enum in webp"><code>WebPChunkType</code></a>s to load into memory. If <code>null</code>, all
        encountered chunks are extracted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or the <a href="../common/ImageRandomAccessReader.html" title="class in common"><code>ImageRandomAccessReader</code></a> fails to
         initialise</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Releases the file handle and closes the underlying <code>ByteStreamReader</code> resource.

 <p>
 This is called automatically when using a <code>try-with-resources</code> block. Closing this
 handler ensures that any system locks on the file are released and memory resources are
 freed.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while closing the reader</dd>
</dl>
</li>
</ul>
<a name="parseMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseMetadata</h4>
<pre>public&nbsp;boolean&nbsp;parseMetadata()
                      throws java.io.IOException</pre>
<div class="block">Begins metadata processing by parsing the WebP file and extracting chunk data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/ImageHandler.html#parseMetadata--">parseMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if at least one chunk element was successfully extracted, or false if no
         relevant data was processed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
<dd><code>java.lang.IllegalStateException</code> - if the file structure is malformed (i.e. header corruption, size mismatch) or
         contains an invalid first chunk</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns a textual representation of all parsed WebP chunks in this file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>formatted string of all parsed chunk entries</dd>
</dl>
</li>
</ul>
<a name="getRealFileSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRealFileSize</h4>
<pre>public&nbsp;long&nbsp;getRealFileSize()</pre>
<div class="block">Returns the length of the physical image file. This is safe since it only returns zero if the
 size is missing or inaccessible.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the file in bytes, potentially or 0L if the size cannot be determined</dd>
</dl>
</li>
</ul>
<a name="getChunks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunks</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;&nbsp;getChunks()</pre>
<div class="block">Retrieves a list of chunks that have been extracted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an unmodified list of chunks</dd>
</dl>
</li>
</ul>
<a name="getChunk-webp.WebPChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunk</h4>
<pre>public&nbsp;java.util.Optional&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;&nbsp;getChunk(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</pre>
<div class="block">Finds and returns the first occurrence of a chunk matching the specified type.
 
 <p>
 This is the standard method for retrieving non-repeatable chunks such as <code>VP8X</code>,
 <code>VP8</code>, or <code>ICCP</code>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the <a href="../webp/WebPChunkType.html" title="enum in webp"><code>WebPChunkType</code></a> to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing the first matching <a href="../webp/WebpChunk.html" title="class in webp"><code>WebpChunk</code></a> otherwise
         <code>Optional.empty()</code></dd>
</dl>
</li>
</ul>
<a name="getLastChunk-webp.WebPChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastChunk</h4>
<pre>public&nbsp;java.util.Optional&lt;<a href="../webp/WebpChunk.html" title="class in webp">WebpChunk</a>&gt;&nbsp;getLastChunk(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</pre>
<div class="block">Finds and returns the last occurrence of a chunk matching the specified type.
 
 <p>
 This is useful for metadata chunks (like <code>XMP </code>) where, in some implementation
 scenarios, a secondary chunk might be appended to override or update previous data.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the <a href="../webp/WebPChunkType.html" title="enum in webp"><code>WebPChunkType</code></a> to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Optional</code> containing the last matching <a href="../webp/WebpChunk.html" title="class in webp"><code>WebpChunk</code></a> otherwise
         <code>Optional.empty()</code></dd>
</dl>
</li>
</ul>
<a name="existsChunk-webp.WebPChunkType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsChunk</h4>
<pre>public&nbsp;boolean&nbsp;existsChunk(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type)</pre>
<div class="block">Checks if a chunk with the specified type has already been set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of the chunk</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the chunk is already present</dd>
</dl>
</li>
</ul>
<a name="existsXmpMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsXmpMetadata</h4>
<pre>public&nbsp;boolean&nbsp;existsXmpMetadata()</pre>
<div class="block">Identifies if the Extended File Format (VP8X) chunk indicates the presence of XMP metadata.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the 3rd bit (0x04) of the VP8X flags is set</dd>
</dl>
</li>
</ul>
<a name="existsExifMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existsExifMetadata</h4>
<pre>public&nbsp;boolean&nbsp;existsExifMetadata()</pre>
<div class="block">Identifies if the Extended File Format (VP8X) chunk indicates the presence of EXIF metadata.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the 4th bit (0x08) of the VP8X flags is set</dd>
</dl>
</li>
</ul>
<a name="readFileHeader-common.ByteStreamReader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFileHeader</h4>
<pre>private&nbsp;long&nbsp;readFileHeader(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader)
                     throws java.io.IOException</pre>
<div class="block">Read the file header of the given WebP file. Basically, it checks for correct RIFF and WEBP
 signature entries within the first few stream bytes. It also determines the full size of this
 file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - byte reader for raw WebP stream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the WebP file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
<dd><code>java.lang.IllegalStateException</code> - if the WebP header information is corrupted</dd>
</dl>
</li>
</ul>
<a name="parseChunks-common.ByteStreamReader-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseChunks</h4>
<pre>private&nbsp;void&nbsp;parseChunks(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader,
                         long&nbsp;riffFileSize)
                  throws java.io.IOException</pre>
<div class="block">Iterates through the RIFF container and parses individual chunks.
 
 <p>
 This method enforces the WebP specification requirement that the first chunk must be a
 bitstream chunk (<code>VP8</code>, <code>VP8L</code>, or <code>VP8X</code>). It also manages the
 RIFF-specific 1-byte alignment padding for chunks with odd-numbered payload lengths.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - the stream reader positioned at the start of the first chunk</dd>
<dd><code>riffFileSize</code> - the expected total size of the RIFF container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the stream cannot be read</dd>
<dd><code>java.lang.IllegalStateException</code> - if the first chunk is invalid or the structure is malformed</dd>
</dl>
</li>
</ul>
<a name="addChunk-webp.WebPChunkType-int-int-byte:A-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChunk</h4>
<pre>private&nbsp;void&nbsp;addChunk(<a href="../webp/WebPChunkType.html" title="enum in webp">WebPChunkType</a>&nbsp;type,
                      int&nbsp;fourCC,
                      int&nbsp;length,
                      byte[]&nbsp;data,
                      long&nbsp;dataOffset)</pre>
<div class="block">Adds a parsed chunk to the internal chunk collection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the WebP chunk type in enum constant</dd>
<dd><code>fourCC</code> - the 32-bit FourCC chunk identifier (in little-endian integer form)</dd>
<dd><code>length</code> - the length of the chunk's payload</dd>
<dd><code>data</code> - raw chunk data</dd>
</dl>
</li>
</ul>
<a name="parseVP8X-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseVP8X</h4>
<pre>private&nbsp;void&nbsp;parseVP8X(byte[]&nbsp;payload)
                throws java.io.IOException</pre>
<div class="block">Parses the VP8X extended header to determine image features and dimensions. At this stage, it
 is used for logging purposes only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payload</code> - the 10-byte payload from the VP8X chunk</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href=
      "https://developers.google.com/speed/webp/docs/riff_container#extended_file_format">More
      VP8X details</a></dd>
</dl>
</li>
</ul>
<a name="parseVP8-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseVP8</h4>
<pre>protected&nbsp;void&nbsp;parseVP8(byte[]&nbsp;payload)
                 throws java.io.IOException</pre>
<div class="block">Parses the VP8 Lossy bitstream header to extract image dimensions.
 
 <p>
 The dimensions are stored as 16-bit values where the 2 most significant bits are reserved for
 scaling, requiring a bitmask of <code>0x3FFF</code>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payload</code> - the raw bytes from the <code>VP8</code> chunk</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="parseVP8L-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>parseVP8L</h4>
<pre>protected&nbsp;void&nbsp;parseVP8L(byte[]&nbsp;payload)
                  throws java.io.IOException</pre>
<div class="block">Parses the VP8L Lossless bitstream header to extract image dimensions.
 
 <p>
 Dimensions are stored as 14-bit integers. The bit-stream layout is: 1 bit (signature), 14
 bits (width-1), 14 bits (height-1).
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payload</code> - the raw bytes from the 'VP8L' chunk</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebpHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../webp/WebPDatePatcher.html" title="class in webp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../webp/WebpParser.html" title="class in webp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?webp/WebpHandler.html" target="_top">Frames</a></li>
<li><a href="WebpHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
