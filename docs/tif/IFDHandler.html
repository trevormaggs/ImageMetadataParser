<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Wed Feb 11 22:47:41 AEDT 2026 -->
<title>IFDHandler</title>
<meta name="date" content="2026-02-11">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IFDHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IFDHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../tif/DirectoryIFD.EntryIFD.html" title="class in tif"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../tif/TagHint.html" title="enum in tif"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?tif/IFDHandler.html" target="_top">Frames</a></li>
<li><a href="IFDHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">tif</div>
<h2 title="Class IFDHandler" class="title">Class IFDHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>tif.IFDHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">IFDHandler</span>
extends java.lang.Object
implements <a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a>, java.lang.AutoCloseable</pre>
<div class="block">Parses TIFF-based files (such as standard TIFF, EXIF in JPEGs, and DNG) by reading and
 interpreting Image File Directories (IFDs).

 <p>
 Supports standard TIFF 6.0 parsing, including the primary <code>IFD0</code> and linked
 sub-directories, such as <code>EXIF</code>, <code>GPS</code>, and <code>INTEROP</code>, which are traversed
 recursively via tag-defined pointers.
 </p>

 <p>
 <strong>Note:</strong> While this handler detects BigTIFF (version 43), it currently only
 supports Standard TIFF (version 42) parsing. This handler focuses on IFD structures, other
 metadata formats, such as XMP or ICCP, should be handled by the Image Parser.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5 September 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://partners.adobe.com/public/developer/en/tiff/TIFF6.pdf">TIFF 6.0
      Specification</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#directoryList">directoryList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#ENTRY_MAX_VALUE_LENGTH">ENTRY_MAX_VALUE_LENGTH</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#ENTRY_MAX_VALUE_LENGTH_BIG">ENTRY_MAX_VALUE_LENGTH_BIG</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#isTiffBig">isTiffBig</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#reader">reader</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.Map&lt;<a href="../tif/tagspecs/Taggable.html" title="interface in tif.tagspecs">Taggable</a>,<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#subIfdMap">subIfdMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Map&lt;java.lang.Integer,<a href="../tif/tagspecs/Taggable.html" title="interface in tif.tagspecs">Taggable</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#TAG_LOOKUP">TAG_LOOKUP</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.List&lt;java.lang.Class&lt;? extends java.lang.Enum&lt;?&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#tagClassList">tagClassList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#TIFF_BIG_VERSION">TIFF_BIG_VERSION</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#TIFF_STANDARD_VERSION">TIFF_STANDARD_VERSION</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#IFDHandler-common.ByteStreamReader-">IFDHandler</a></span>(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader)</code></th>
<td class="colLast">
<div class="block">Constructs a handler using the specified byte stream reader.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#IFDHandler-java.nio.file.Path-">IFDHandler</a></span>(java.nio.file.Path&nbsp;fpath)</code></th>
<td class="colLast">
<div class="block">Constructs a handler that reads metadata directly from a file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#close--">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases the file handle and closes the underlying stream reader.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#getDirectories--">getDirectories</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the list of IFD directories that were successfully parsed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.nio.ByteOrder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#getTifByteOrder--">getTifByteOrder</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the byte order, indicating how metadata values will be interpreted correctly.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#isBigTiffVersion--">isBigTiffVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates whether the parsed file is a BigTIFF variant (version 43).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#navigateImageFileDirectory-tif.DirectoryIdentifier-long-">navigateImageFileDirectory</a></span>(<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&nbsp;dirType,
                          long&nbsp;startOffset)</code></th>
<td class="colLast">
<div class="block">Recursively traverses an IFD and its linked sub-directories.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#navigateImageFileDirectory2-tif.DirectoryIdentifier-long-">navigateImageFileDirectory2</a></span>(<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&nbsp;dirType,
                           long&nbsp;startOffset)</code></th>
<td class="colLast">
<div class="block">Recursively traverses an IFD and its linked sub-directories.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#parseMetadata--">parseMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Parses the image stream and populates the directory list.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../tif/IFDHandler.html#readTifHeader--">readTifHeader</a></span>()</code></th>
<td class="colLast">
<div class="block">Parses the TIFF header to identify byte order, version, and the initial IFD offset.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="TIFF_STANDARD_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIFF_STANDARD_VERSION</h4>
<pre>private static final&nbsp;int TIFF_STANDARD_VERSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#tif.IFDHandler.TIFF_STANDARD_VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TIFF_BIG_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIFF_BIG_VERSION</h4>
<pre>private static final&nbsp;int TIFF_BIG_VERSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#tif.IFDHandler.TIFF_BIG_VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ENTRY_MAX_VALUE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENTRY_MAX_VALUE_LENGTH</h4>
<pre>public static final&nbsp;int ENTRY_MAX_VALUE_LENGTH</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#tif.IFDHandler.ENTRY_MAX_VALUE_LENGTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ENTRY_MAX_VALUE_LENGTH_BIG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENTRY_MAX_VALUE_LENGTH_BIG</h4>
<pre>public static final&nbsp;int ENTRY_MAX_VALUE_LENGTH_BIG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#tif.IFDHandler.ENTRY_MAX_VALUE_LENGTH_BIG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="tagClassList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tagClassList</h4>
<pre>private static final&nbsp;java.util.List&lt;java.lang.Class&lt;? extends java.lang.Enum&lt;?&gt;&gt;&gt; tagClassList</pre>
</li>
</ul>
<a name="subIfdMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subIfdMap</h4>
<pre>private static final&nbsp;java.util.Map&lt;<a href="../tif/tagspecs/Taggable.html" title="interface in tif.tagspecs">Taggable</a>,<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&gt; subIfdMap</pre>
</li>
</ul>
<a name="TAG_LOOKUP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG_LOOKUP</h4>
<pre>private static final&nbsp;java.util.Map&lt;java.lang.Integer,<a href="../tif/tagspecs/Taggable.html" title="interface in tif.tagspecs">Taggable</a>&gt; TAG_LOOKUP</pre>
</li>
</ul>
<a name="directoryList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directoryList</h4>
<pre>private final&nbsp;java.util.List&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt; directoryList</pre>
</li>
</ul>
<a name="reader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reader</h4>
<pre>private final&nbsp;<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a> reader</pre>
</li>
</ul>
<a name="isTiffBig">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isTiffBig</h4>
<pre>private&nbsp;boolean isTiffBig</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IFDHandler-common.ByteStreamReader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IFDHandler</h4>
<pre>public&nbsp;IFDHandler(<a href="../common/ByteStreamReader.html" title="interface in common">ByteStreamReader</a>&nbsp;reader)</pre>
<div class="block">Constructs a handler using the specified byte stream reader.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - the stream reader providing access to TIFF content</dd>
</dl>
</li>
</ul>
<a name="IFDHandler-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IFDHandler</h4>
<pre>public&nbsp;IFDHandler(java.nio.file.Path&nbsp;fpath)
           throws java.io.IOException</pre>
<div class="block">Constructs a handler that reads metadata directly from a file.

 <p>
 <strong>Note:</strong> This constructor opens the file. To prevent file locks or memory
 leaks, use this handler within a <code>try-with-resources</code> block so the file resource is
 automatically closed.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the path to the image file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or read</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDirectories--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirectories</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;&nbsp;getDirectories()</pre>
<div class="block">Returns the list of IFD directories that were successfully parsed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an unmodifiable <code>List</code> of parsed <a href="../tif/DirectoryIFD.html" title="class in tif"><code>DirectoryIFD</code></a> structures</dd>
</dl>
</li>
</ul>
<a name="getTifByteOrder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTifByteOrder</h4>
<pre>public&nbsp;java.nio.ByteOrder&nbsp;getTifByteOrder()</pre>
<div class="block">Returns the byte order, indicating how metadata values will be interpreted correctly.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>either <code>ByteOrder.BIG_ENDIAN</code> or
         <code>ByteOrder.LITTLE_ENDIAN</code></dd>
</dl>
</li>
</ul>
<a name="isBigTiffVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBigTiffVersion</h4>
<pre>public&nbsp;boolean&nbsp;isBigTiffVersion()</pre>
<div class="block">Indicates whether the parsed file is a BigTIFF variant (version 43).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the file is a BigTIFF variant</dd>
</dl>
</li>
</ul>
<a name="parseMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseMetadata</h4>
<pre>public&nbsp;boolean&nbsp;parseMetadata()
                      throws java.io.IOException</pre>
<div class="block">Parses the image stream and populates the directory list.

 <p>
 This method performs a deep scan of the IFD chain. If any part of the directory structure is
 found to be corrupt, the directory list is cleared to ensure data integrity.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/ImageHandler.html#parseMetadata--">parseMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../common/ImageHandler.html" title="interface in common">ImageHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the IFD chain was successfully traversed and at least one directory
         was extracted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Releases the file handle and closes the underlying stream reader.

 <p>
 This is called automatically when using a <code>try-with-resources</code> block. Closing this
 handler ensures that any system locks on the file are released and memory resources are
 freed.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while closing the reader</dd>
</dl>
</li>
</ul>
<a name="readTifHeader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readTifHeader</h4>
<pre>private&nbsp;long&nbsp;readTifHeader()
                    throws java.io.IOException</pre>
<div class="block">Parses the TIFF header to identify byte order, version, and the initial IFD offset.

 <p>
 <strong>Requirement:</strong> The stream must be positioned at the TIFF magic bytes. Any
 preambles, such as HEIF or JPEG markers, must be skipped prior to calling this method.
 </p>

 <p>
 Currently supports <b>Standard TIFF</b> (16-bit), but <b>BigTIFF</b> (64-bit) is detectable
 and un-supported. This process validates the magic bytes (<code>II</code> - <code>0x49 0x49</code> or
 <code>MM</code> - <code>0x4D 0x4D</code>) and determines the offset to IFD0 based on the version
 detected.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the absolute offset to IFD0, or <code>0</code> if the header is malformed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="navigateImageFileDirectory2-tif.DirectoryIdentifier-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>navigateImageFileDirectory2</h4>
<pre>private&nbsp;boolean&nbsp;navigateImageFileDirectory2(<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&nbsp;dirType,
                                            long&nbsp;startOffset)
                                     throws java.io.IOException</pre>
<div class="block">Recursively traverses an IFD and its linked sub-directories.

 <p>
 Iterates through entries and follows pointers to sub-IFDs, such as EXIF, GPS, or Interop. If
 a recursive call fails due to malformed data, it returns <code>false</code> to prevent processing
 a corrupt directory chain.
 </p>

 <p>
 Essentially, each IFD is a sequence of 12-byte entries, each containing a tag ID, a field
 type, a count of values, and a 4-byte value or offset.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dirType</code> - the directory type being processed</dd>
<dd><code>startOffset</code> - the file offset where the IFD begins</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the directory and all linked IFDs were successfully parsed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="navigateImageFileDirectory-tif.DirectoryIdentifier-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>navigateImageFileDirectory</h4>
<pre>private&nbsp;boolean&nbsp;navigateImageFileDirectory(<a href="../tif/DirectoryIdentifier.html" title="enum in tif">DirectoryIdentifier</a>&nbsp;dirType,
                                           long&nbsp;startOffset)
                                    throws java.io.IOException</pre>
<div class="block">Recursively traverses an IFD and its linked sub-directories.
 *
 <p>
 This version implements a "Parent-First" strategy: the current IFD is added to
 the directory list before any sub-directories (like EXIF or GPS) are explored.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dirType</code> - the directory type being processed</dd>
<dd><code>startOffset</code> - the file offset where the IFD begins</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the directory and all linked IFDs were successfully parsed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IFDHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../tif/DirectoryIFD.EntryIFD.html" title="class in tif"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../tif/TagHint.html" title="enum in tif"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?tif/IFDHandler.html" target="_top">Frames</a></li>
<li><a href="IFDHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
