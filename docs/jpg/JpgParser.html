<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Sat Nov 15 16:34:41 AEDT 2025 -->
<title>JpgParser</title>
<meta name="date" content="2025-11-15">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JpgParser";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JpgParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../jpg/JpgSegmentConstants.html" title="enum in jpg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jpg/JpgParser.html" target="_top">Frames</a></li>
<li><a href="JpgParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">jpg</div>
<h2 title="Class JpgParser" class="title">Class JpgParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../common/AbstractImageParser.html" title="class in common">common.AbstractImageParser</a></li>
<li>
<ul class="inheritance">
<li>jpg.JpgParser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">JpgParser</span>
extends <a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></pre>
<div class="block">A parser for JPG image files that extracts metadata from the APP segments, handling multi-segment
 metadata, specifically for ICC and XMP data, in addition to the single-segment EXIF data.

 <p>
 This parser adheres to the EXIF specification (version 2.32, CIPA DC-008-2019), which mandates
 that all EXIF metadata must be contained within a single APP1 segment. The parser will search for
 and process the first APP1 segment it encounters that contains the <code>Exif</code> identifier.
 </p>

 <p>
 For ICC profiles, the parser now collects and concatenates all APP2 segments that contain the
 <code>ICC_PROFILE</code> identifier, following the concatenation rules defined in the ICC
 specification. Similarly, for <code>XMP</code> data, it concatenates all APP1 segments with the
 <code>http://ns.adobe.com/xap/1.0/</code> identifier to form a single XMP data block through byte
 reconstruction.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>30 September 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.5</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#JpgParser-java.nio.file.Path-">JpgParser</a></span>(java.nio.file.Path&nbsp;fpath)</code></th>
<td class="colLast">
<div class="block">Constructs a new instance with the specified file path.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#JpgParser-java.lang.String-">JpgParser</a></span>(java.lang.String&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Constructs a new instance from a file path string.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#formatDiagnosticString--">formatDiagnosticString</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates a human-readable diagnostic string containing metadata details.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#getImageFormat--">getImageFormat</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the detected <code>JPG</code> format.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#getMetadata--">getMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves the extracted Exif metadata from the JPG image file, or a fallback if unavailable.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#getXmpInfo--">getXmpInfo</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#readMetadata--">readMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Reads the JPG image file to extract all supported raw metadata segments (specifically EXIF
 and XMP, if present), and uses the extracted data to initialise the necessary metadata
 objects for later data retrieval.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#stripExifPreamble-byte:A-">stripExifPreamble</a></span>(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Removes the potential leading JPEG/EXIF identifier (APP1 marker) from the raw EXIF payload.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.common.AbstractImageParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;common.<a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></h3>
<code><a href="../common/AbstractImageParser.html#getImageFile--">getImageFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JpgParser-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JpgParser</h4>
<pre>public&nbsp;JpgParser(java.nio.file.Path&nbsp;fpath)
          throws java.io.IOException</pre>
<div class="block">Constructs a new instance with the specified file path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the path to the JPG file to be parsed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or read</dd>
</dl>
</li>
</ul>
<a name="JpgParser-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JpgParser</h4>
<pre>public&nbsp;JpgParser(java.lang.String&nbsp;file)
          throws java.io.IOException</pre>
<div class="block">Constructs a new instance from a file path string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the path to the JPG file as a string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or read</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="stripExifPreamble-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stripExifPreamble</h4>
<pre>public static&nbsp;byte[]&nbsp;stripExifPreamble(byte[]&nbsp;data)</pre>
<div class="block">Removes the potential leading JPEG/EXIF identifier (APP1 marker) from the raw EXIF payload.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the raw EXIF chunk payload</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the corrected EXIF data byte array</dd>
</dl>
</li>
</ul>
<a name="readMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadata</h4>
<pre>public&nbsp;boolean&nbsp;readMetadata()
                     throws <a href="../common/ImageReadErrorException.html" title="class in common">ImageReadErrorException</a></pre>
<div class="block">Reads the JPG image file to extract all supported raw metadata segments (specifically EXIF
 and XMP, if present), and uses the extracted data to initialise the necessary metadata
 objects for later data retrieval.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#readMetadata--">readMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true once at least one metadata segment has been successfully parsed, otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../common/ImageReadErrorException.html" title="class in common">ImageReadErrorException</a></code> - if a parsing or file reading error occurs</dd>
</dl>
</li>
</ul>
<a name="getMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;<a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;&nbsp;getMetadata()</pre>
<div class="block">Retrieves the extracted Exif metadata from the JPG image file, or a fallback if unavailable.

 <p>
 If the metadata has not yet been parsed and raw EXIF segment data is present, this method
 triggers the parsing of the EXIF data, which is a TIFF structure. If parsing fails or no EXIF
 segment is present, an empty <a href="../tif/ExifMetadata.html" title="class in tif"><code>ExifMetadata</code></a> object is returned as a fallback.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getMetadata--">getMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MetadataStrategy object, populated with EXIF data or empty</dd>
</dl>
</li>
</ul>
<a name="getImageFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageFormat</h4>
<pre>public&nbsp;<a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a>&nbsp;getImageFormat()</pre>
<div class="block">Returns the detected <code>JPG</code> format.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getImageFormat--">getImageFormat</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../common/DigitalSignature.html" title="enum in common"><code>DigitalSignature</code></a> enum constant representing this image format</dd>
</dl>
</li>
</ul>
<a name="formatDiagnosticString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatDiagnosticString</h4>
<pre>public&nbsp;java.lang.String&nbsp;formatDiagnosticString()</pre>
<div class="block">Generates a human-readable diagnostic string containing metadata details.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#formatDiagnosticString--">formatDiagnosticString</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a formatted string suitable for diagnostics, logging, or inspection</dd>
</dl>
</li>
</ul>
<a name="getXmpInfo--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getXmpInfo</h4>
<pre>public&nbsp;<a href="../common/MetadataStrategy.html" title="interface in common">MetadataStrategy</a>&lt;?&gt;&nbsp;getXmpInfo()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JpgParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../jpg/JpgSegmentConstants.html" title="enum in jpg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jpg/JpgParser.html" target="_top">Frames</a></li>
<li><a href="JpgParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
