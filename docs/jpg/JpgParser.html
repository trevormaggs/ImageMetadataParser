<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_451) on Mon Jan 19 20:03:53 AEDT 2026 -->
<title>JpgParser</title>
<meta name="date" content="2026-01-19">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JpgParser";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":41};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JpgParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jpg/JpgParser.html" target="_top">Frames</a></li>
<li><a href="JpgParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">jpg</div>
<h2 title="Class JpgParser" class="title">Class JpgParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../common/AbstractImageParser.html" title="class in common">common.AbstractImageParser</a></li>
<li>
<ul class="inheritance">
<li>jpg.JpgParser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">JpgParser</span>
extends <a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></pre>
<div class="block">A parser for JPG image files that extracts metadata from the APP segments, handling multi-segment
 metadata, specifically for ICC and XMP data, in addition to the single-segment EXIF data.

 <p>
 This parser adheres to the EXIF specification (version 2.32, CIPA DC-008-2019), which mandates
 that all EXIF metadata must be contained within a single APP1 segment. The parser will search for
 and process the first APP1 segment it encounters that contains the <code>Exif</code> identifier.
 </p>

 <p>
 For ICC profiles, the parser now collects and concatenates all APP2 segments that contain the
 <code>ICC_PROFILE</code> identifier, following the concatenation rules defined in the ICC
 specification. Similarly, for <code>XMP</code> data, it concatenates all APP1 segments with the
 <code>http://ns.adobe.com/xap/1.0/</code> identifier to form a single XMP data block through segment
 concatenation, supporting the Extended XMP (multi-segment) specification.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>30 September 2025</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.5</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Trevor Maggs</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg">JpgParser.JpgSegmentData</a></span></code></th>
<td class="colLast">
<div class="block">A simple immutable data carrier for the raw byte arrays of the different metadata segments
 found in a JPEG file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#EXIF_IDENTIFIER">EXIF_IDENTIFIER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#ICC_IDENTIFIER">ICC_IDENTIFIER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static logger.LogFactory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#LOGGER">LOGGER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../tif/TifMetadata.html" title="class in tif">TifMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#metadata">metadata</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#PADDING_LIMIT">PADDING_LIMIT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg">JpgParser.JpgSegmentData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#segmentData">segmentData</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#XMP_IDENTIFIER">XMP_IDENTIFIER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#JpgParser-java.nio.file.Path-">JpgParser</a></span>(java.nio.file.Path&nbsp;fpath)</code></th>
<td class="colLast">
<div class="block">Constructs a new instance with the specified file path.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#JpgParser-java.lang.String-">JpgParser</a></span>(java.lang.String&nbsp;file)</code></th>
<td class="colLast">
<div class="block">Constructs a new instance from a file path string.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private <a href="../jpg/JpgSegmentConstants.html" title="enum in jpg">JpgSegmentConstants</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#fetchNextSegment-common.ImageRandomAccessReader-">fetchNextSegment</a></span>(<a href="../common/ImageRandomAccessReader.html" title="class in common">ImageRandomAccessReader</a>&nbsp;reader)</code></th>
<td class="colLast">
<div class="block">Reads the next JPEG segment marker from the input stream.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#formatDiagnosticString--">formatDiagnosticString</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates a human-readable diagnostic string containing metadata details.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#getImageFormat--">getImageFormat</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the detected <code>JPG</code> format.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../common/Metadata.html" title="interface in common">Metadata</a>&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#getMetadata--">getMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieves the extracted Exif metadata from the JPG image file, or a fallback if unavailable.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#readMetadata--">readMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Reads the JPG image file to extract all supported raw metadata segments, specifically for
 multi-segment ICC profiles (concatenated via sequence markers) and XMP data blocks, if
 present), and uses the extracted data to initialise the necessary metadata object for later
 data retrieval.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private <a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg">JpgParser.JpgSegmentData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#readMetadataSegments-common.ImageRandomAccessReader-">readMetadataSegments</a></span>(<a href="../common/ImageRandomAccessReader.html" title="class in common">ImageRandomAccessReader</a>&nbsp;reader)</code></th>
<td class="colLast">
<div class="block">Reads all supported metadata segments, including EXIF, ICC and XMP, if present, from the JPEG
 file stream.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#reconstructIccSegments-java.util.List-">reconstructIccSegments</a></span>(java.util.List&lt;byte[]&gt;&nbsp;segments)</code></th>
<td class="colLast">
<div class="block">Reconstructs a complete ICC metadata block by concatenating multiple ICC profile segments.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#reconstructXmpSegments-java.util.List-">reconstructXmpSegments</a></span>(java.util.List&lt;byte[]&gt;&nbsp;segments)</code></th>
<td class="colLast">
<div class="block">Reconstructs a complete XMP metadata block by concatenating multiple raw XMP segments within
 the APP1 block.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#stripExifPreamble-byte:A-">stripExifPreamble</a></span>(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Removes the 6-byte <code>Exif\0\0</code> signature/header required by the JPEG standard before
 passing the payload to a TIFF-based parser.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../jpg/JpgParser.html#stripExifPreamble2-byte:A-">stripExifPreamble2</a></span>(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.common.AbstractImageParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;common.<a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></h3>
<code><a href="../common/AbstractImageParser.html#getImageFile--">getImageFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;logger.LogFactory LOGGER</pre>
</li>
</ul>
<a name="PADDING_LIMIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PADDING_LIMIT</h4>
<pre>private static final&nbsp;int PADDING_LIMIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#jpg.JpgParser.PADDING_LIMIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EXIF_IDENTIFIER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXIF_IDENTIFIER</h4>
<pre>private static final&nbsp;byte[] EXIF_IDENTIFIER</pre>
</li>
</ul>
<a name="ICC_IDENTIFIER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ICC_IDENTIFIER</h4>
<pre>private static final&nbsp;byte[] ICC_IDENTIFIER</pre>
</li>
</ul>
<a name="XMP_IDENTIFIER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XMP_IDENTIFIER</h4>
<pre>private static final&nbsp;byte[] XMP_IDENTIFIER</pre>
</li>
</ul>
<a name="metadata">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metadata</h4>
<pre>private&nbsp;<a href="../tif/TifMetadata.html" title="class in tif">TifMetadata</a> metadata</pre>
</li>
</ul>
<a name="segmentData">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>segmentData</h4>
<pre>private&nbsp;<a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg">JpgParser.JpgSegmentData</a> segmentData</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JpgParser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JpgParser</h4>
<pre>public&nbsp;JpgParser(java.lang.String&nbsp;file)
          throws java.io.IOException</pre>
<div class="block">Constructs a new instance from a file path string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the path to the JPG file as a string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or read</dd>
</dl>
</li>
</ul>
<a name="JpgParser-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JpgParser</h4>
<pre>public&nbsp;JpgParser(java.nio.file.Path&nbsp;fpath)
          throws java.io.IOException</pre>
<div class="block">Constructs a new instance with the specified file path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fpath</code> - the path to the JPG file as an encapsulated object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the file cannot be opened or read</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="stripExifPreamble-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stripExifPreamble</h4>
<pre>public static&nbsp;byte[]&nbsp;stripExifPreamble(byte[]&nbsp;data)</pre>
<div class="block">Removes the 6-byte <code>Exif\0\0</code> signature/header required by the JPEG standard before
 passing the payload to a TIFF-based parser.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the raw EXIF chunk payload</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the corrected EXIF data byte array</dd>
</dl>
</li>
</ul>
<a name="stripExifPreamble2-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stripExifPreamble2</h4>
<pre>@Deprecated
public static&nbsp;byte[]&nbsp;stripExifPreamble2(byte[]&nbsp;data)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="readMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadata</h4>
<pre>public&nbsp;boolean&nbsp;readMetadata()
                     throws java.io.IOException</pre>
<div class="block">Reads the JPG image file to extract all supported raw metadata segments, specifically for
 multi-segment ICC profiles (concatenated via sequence markers) and XMP data blocks, if
 present), and uses the extracted data to initialise the necessary metadata object for later
 data retrieval.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#readMetadata--">readMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if at least one supported metadata segment (EXIF, XMP, or ICC) was found and
         extracted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if a file reading error occurs during the parsing</dd>
</dl>
</li>
</ul>
<a name="getMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;<a href="../common/Metadata.html" title="interface in common">Metadata</a>&lt;<a href="../tif/DirectoryIFD.html" title="class in tif">DirectoryIFD</a>&gt;&nbsp;getMetadata()</pre>
<div class="block">Retrieves the extracted Exif metadata from the JPG image file, or a fallback if unavailable.
 If XMP data is present, it will also be extracted to initialise the necessary metadata
 object for later data retrieval.

 <p>
 If the metadata has not yet been parsed and raw EXIF segment data is present, this method
 triggers the parsing of all extracted metadata blocks. If parsing fails or no EXIF or XMP
 segment is present, an empty <a href="../tif/TifMetadata.html" title="class in tif"><code>TifMetadata</code></a> object is returned as a fallback.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getMetadata--">getMetadata</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a MetadataStrategy object, populated with EXIF data or empty</dd>
</dl>
</li>
</ul>
<a name="getImageFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageFormat</h4>
<pre>public&nbsp;<a href="../common/DigitalSignature.html" title="enum in common">DigitalSignature</a>&nbsp;getImageFormat()</pre>
<div class="block">Returns the detected <code>JPG</code> format.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#getImageFormat--">getImageFormat</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../common/DigitalSignature.html" title="enum in common"><code>DigitalSignature</code></a> enum constant representing this image format</dd>
</dl>
</li>
</ul>
<a name="formatDiagnosticString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatDiagnosticString</h4>
<pre>public&nbsp;java.lang.String&nbsp;formatDiagnosticString()</pre>
<div class="block">Generates a human-readable diagnostic string containing metadata details.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../common/AbstractImageParser.html#formatDiagnosticString--">formatDiagnosticString</a></code>&nbsp;in class&nbsp;<code><a href="../common/AbstractImageParser.html" title="class in common">AbstractImageParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a formatted string suitable for diagnostics, logging, or inspection</dd>
</dl>
</li>
</ul>
<a name="readMetadataSegments-common.ImageRandomAccessReader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMetadataSegments</h4>
<pre>private&nbsp;<a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg">JpgParser.JpgSegmentData</a>&nbsp;readMetadataSegments(<a href="../common/ImageRandomAccessReader.html" title="class in common">ImageRandomAccessReader</a>&nbsp;reader)
                                               throws java.io.IOException</pre>
<div class="block">Reads all supported metadata segments, including EXIF, ICC and XMP, if present, from the JPEG
 file stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - the input JPEG stream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a JpgSegmentData record containing the byte arrays for any found segments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="fetchNextSegment-common.ImageRandomAccessReader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNextSegment</h4>
<pre>private&nbsp;<a href="../jpg/JpgSegmentConstants.html" title="enum in jpg">JpgSegmentConstants</a>&nbsp;fetchNextSegment(<a href="../common/ImageRandomAccessReader.html" title="class in common">ImageRandomAccessReader</a>&nbsp;reader)
                                      throws java.io.IOException</pre>
<div class="block">Reads the next JPEG segment marker from the input stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - the input stream of the JPEG file, positioned at the current read cursor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a JpgSegmentConstants value representing the marker and its flag, or null if
         end-of-file is reached</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error occurs while reading from the stream</dd>
</dl>
</li>
</ul>
<a name="reconstructXmpSegments-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconstructXmpSegments</h4>
<pre>private&nbsp;byte[]&nbsp;reconstructXmpSegments(java.util.List&lt;byte[]&gt;&nbsp;segments)</pre>
<div class="block">Reconstructs a complete XMP metadata block by concatenating multiple raw XMP segments within
 the APP1 block.

 <p>
 The Extensible Metadata Platform (XMP) specification allows XMP data to be stored across
 multiple APP1 segments within a JPEG file. This method reassembles these fragments into a
 single, cohesive byte array for parsing.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segments</code> - the list of byte arrays, each representing a raw APP1 segment containing XMP data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the concatenated byte array, or returns null if no segments are available</dd>
</dl>
</li>
</ul>
<a name="reconstructIccSegments-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reconstructIccSegments</h4>
<pre>private&nbsp;byte[]&nbsp;reconstructIccSegments(java.util.List&lt;byte[]&gt;&nbsp;segments)</pre>
<div class="block">Reconstructs a complete ICC metadata block by concatenating multiple ICC profile segments.
 Segments are ordered by their sequence number as specified in the header.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segments</code> - the list of raw ICC segments</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the concatenated byte array, or returns null if no valid segments are available</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JpgParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../jpg/JpgParser.JpgSegmentData.html" title="class in jpg"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jpg/JpgParser.html" target="_top">Frames</a></li>
<li><a href="JpgParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
